<script>
$(function(){
	$("#modal").click(function(){
    $('.ui.modal').modal({
      onHide: function(){
        console.log('hidden');
        player.pauseVideo();
      },
      onShow: function(){
        console.log('shown');
      }
    }).modal('show');
  });
});

var tag = document.createElement('script');
tag.src = "https://www.youtube.com/iframe_api";
var firstScriptTag = document.getElementsByTagName('script')[0];
firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

var player;
function onYouTubeIframeAPIReady() {
 player = new YT.Player('player', {
   height: '355',
   width: '100%',
   videoId: 'GqCc-vgjTfA',
   playerVars: { 'autoplay': 0, 'rel': 0, },
   events: {
     'onReady': onPlayerReady,
     'onStateChange': onPlayerStateChange
   }
 });
}

function onPlayerReady(event) {
 event.target.pauseVideo();
}

var done = false;
function onPlayerStateChange(event) {
 if (event.data == YT.PlayerState.PLAYING && !done) {
   setTimeout(stopVideo, 6000);
   done = true;
 }
}
function stopVideo() {
 player.stopVideo();
}
</script>
